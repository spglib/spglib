# How to write spglib documentation

This directory contains python-sphinx documentation source.

## How to compile

```shell
$ pip install ".[docs]"
$ python3 scripts/generate_changelog.py --type local
$ sphinx-build -b html ./doc ./doc/build
```

You can also run a local http server to automatically serve these files using `sphinx-autobuild`:

```shell
$ pip install ".[test-docs]"
$ python3 scripts/generate_changelog.py --type local
$ sphinx-autobuild ./doc ./doc/build
```

## Source files

- [`conf.py`](conf.py) contains the sphinx setting configuration.
- `*.md` markdown files corresponding to each generated `.html` page. Format is defined by `myst_parser`.
- `*.j2` jinja template file generated by [`scripts/generate_changelog.py`](../scripts/generate_changelog.py) and [`ChangeLog.yaml`](../ChangeLog.yaml)

### How to add references

- `references.bib` contains citation entries for [sphinxcontrib-bibtex](https://sphinxcontrib-bibtex.readthedocs.io/en/latest/index.html)
- Each subsection in `references.md` has a bibliography as follows
  - use `cite:empty` directive to refer to an entry in `references.bib`
  - set `keyprefix` for each subsection and append it when refer to bibtex's entries.

````
    {cite:empty}`gen-ITA2016`

    ```{bibliography}
    :cited:
    :keyprefix: gen-
    ```
````
